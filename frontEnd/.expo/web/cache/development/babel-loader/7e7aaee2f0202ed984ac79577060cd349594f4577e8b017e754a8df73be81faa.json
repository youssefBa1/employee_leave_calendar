{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport axios from \"axios\";\nimport { Picker } from \"@react-native-picker/picker\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LeaveRequestForm = function LeaveRequestForm(_ref) {\n  var onSubmit = _ref.onSubmit,\n    onCancel = _ref.onCancel,\n    endDateC = _ref.endDateC,\n    startDateC = _ref.startDateC,\n    selected = _ref.selected;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    leaveType = _useState2[0],\n    setLeaveType = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    leaveTypeOptions = _useState4[0],\n    setLeaveTypeOptions = _useState4[1];\n  useEffect(function () {\n    fetchLeaveTypes();\n  }, []);\n  var fetchLeaveTypes = function fetchLeaveTypes() {\n    axios.get(\"http://10.0.2.2:5000/leavetype\").then(function (response) {\n      setLeaveTypeOptions(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  var handleSubmit = function handleSubmit() {\n    axios.post(\"http://10.0.2.2:5000/leaverequest/add\", {\n      startDate: startDateC,\n      endDate: endDateC,\n      leaveType: leaveType\n    }).then(function (response) {\n      Alert.alert(\"Leave request submitted successfully\");\n      onSubmit();\n    }).catch(function (error) {\n      console.log;\n      Alert.alert(\"Error submitting leave request\");\n    });\n  };\n  return _jsxs(View, {\n    style: styles.formContainer,\n    children: [_jsx(Picker, {\n      selectedValue: leaveType,\n      onValueChange: function onValueChange(itemValue, itemIndex) {\n        return setLeaveType(itemValue);\n      },\n      children: leaveTypeOptions.map(function (option) {\n        return _jsx(Picker.Item, {\n          label: option.label,\n          value: option.value\n        }, option.value);\n      })\n    }), _jsxs(View, {\n      style: styles.buttonContainer,\n      children: [_jsx(Button, {\n        title: \"Submit\",\n        onPress: handleSubmit,\n        disabled: selected\n      }), _jsx(Button, {\n        title: \"Cancel\",\n        onPress: onCancel,\n        color: \"red\"\n      })]\n    })]\n  });\n};\nexport default LeaveRequestForm;\nvar styles = StyleSheet.create({\n  formContainer: {\n    padding: 20,\n    borderRadius: 10\n  },\n  buttonContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Button","Alert","StyleSheet","axios","Picker","jsx","_jsx","jsxs","_jsxs","LeaveRequestForm","_ref","onSubmit","onCancel","endDateC","startDateC","selected","_useState","_useState2","_slicedToArray","leaveType","setLeaveType","_useState3","_useState4","leaveTypeOptions","setLeaveTypeOptions","fetchLeaveTypes","get","then","response","data","catch","error","console","log","handleSubmit","post","startDate","endDate","alert","style","styles","formContainer","children","selectedValue","onValueChange","itemValue","itemIndex","map","option","Item","label","value","buttonContainer","title","onPress","disabled","color","create","padding","borderRadius","flexDirection","justifyContent"],"sources":["C:/Users/PC/Documents/interShip/frontEnd/components/form.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { View, Button, Alert, StyleSheet } from \"react-native\";\r\nimport axios from \"axios\";\r\nimport { Picker } from \"@react-native-picker/picker\";\r\n\r\nconst LeaveRequestForm = ({\r\n  onSubmit,\r\n  onCancel,\r\n  endDateC,\r\n  startDateC,\r\n  selected,\r\n}) => {\r\n  const [leaveType, setLeaveType] = useState(\"\");\r\n  const [leaveTypeOptions, setLeaveTypeOptions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchLeaveTypes();\r\n  }, []);\r\n\r\n  const fetchLeaveTypes = () => {\r\n    axios\r\n      .get(\"http://10.0.2.2:5000/leavetype\")\r\n      .then((response) => {\r\n        setLeaveTypeOptions(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    axios\r\n      .post(\"http://10.0.2.2:5000/leaverequest/add\", {\r\n        startDate: startDateC,\r\n        endDate: endDateC,\r\n        leaveType,\r\n      })\r\n      .then((response) => {\r\n        // Handle successful form submission\r\n        Alert.alert(\"Leave request submitted successfully\");\r\n        onSubmit(); // Call the callback function after successful submission\r\n      })\r\n      .catch((error) => {\r\n        // Handle form submission error\r\n        console.log;\r\n        Alert.alert(\"Error submitting leave request\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.formContainer}>\r\n      <Picker\r\n        selectedValue={leaveType}\r\n        onValueChange={(itemValue, itemIndex) => setLeaveType(itemValue)}\r\n      >\r\n        {leaveTypeOptions.map((option) => (\r\n          <Picker.Item\r\n            label={option.label}\r\n            value={option.value}\r\n            key={option.value}\r\n          />\r\n        ))}\r\n      </Picker>\r\n      <View style={styles.buttonContainer}>\r\n        <Button title=\"Submit\" onPress={handleSubmit} disabled={selected} />\r\n        <Button title=\"Cancel\" onPress={onCancel} color=\"red\" />\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default LeaveRequestForm;\r\n\r\nconst styles = StyleSheet.create({\r\n  formContainer: {\r\n    padding: 20,\r\n    borderRadius: 10,\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n});\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,UAAA;AAEnD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,6BAA6B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAErD,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAAC,IAAA,EAMhB;EAAA,IALJC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IACRC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IACRC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;IACRC,UAAU,GAAAJ,IAAA,CAAVI,UAAU;IACVC,QAAQ,GAAAL,IAAA,CAARK,QAAQ;EAER,IAAAC,SAAA,GAAkCnB,QAAQ,CAAC,EAAE,CAAC;IAAAoB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvCG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAC9B,IAAAI,UAAA,GAAgDxB,QAAQ,CAAC,EAAE,CAAC;IAAAyB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAArDE,gBAAgB,GAAAD,UAAA;IAAEE,mBAAmB,GAAAF,UAAA;EAE5CxB,SAAS,CAAC,YAAM;IACd2B,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMA,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;IAC5BtB,KAAK,CACFuB,GAAG,CAAC,gCAAgC,CAAC,CACrCC,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClBJ,mBAAmB,CAACI,QAAQ,CAACC,IAAI,CAAC;IACpC,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,KAAK,EAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;EAED,IAAMG,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACzB/B,KAAK,CACFgC,IAAI,CAAC,uCAAuC,EAAE;MAC7CC,SAAS,EAAEtB,UAAU;MACrBuB,OAAO,EAAExB,QAAQ;MACjBM,SAAS,EAATA;IACF,CAAC,CAAC,CACDQ,IAAI,CAAC,UAACC,QAAQ,EAAK;MAElB3B,KAAK,CAACqC,KAAK,CAAC,sCAAsC,CAAC;MACnD3B,QAAQ,CAAC,CAAC;IACZ,CAAC,CAAC,CACDmB,KAAK,CAAC,UAACC,KAAK,EAAK;MAEhBC,OAAO,CAACC,GAAG;MACXhC,KAAK,CAACqC,KAAK,CAAC,gCAAgC,CAAC;IAC/C,CAAC,CAAC;EACN,CAAC;EAED,OACE9B,KAAA,CAACT,IAAI;IAACwC,KAAK,EAAEC,MAAM,CAACC,aAAc;IAAAC,QAAA,GAChCpC,IAAA,CAACF,MAAM;MACLuC,aAAa,EAAExB,SAAU;MACzByB,aAAa,EAAE,SAAAA,cAACC,SAAS,EAAEC,SAAS;QAAA,OAAK1B,YAAY,CAACyB,SAAS,CAAC;MAAA,CAAC;MAAAH,QAAA,EAEhEnB,gBAAgB,CAACwB,GAAG,CAAC,UAACC,MAAM;QAAA,OAC3B1C,IAAA,CAACF,MAAM,CAAC6C,IAAI;UACVC,KAAK,EAAEF,MAAM,CAACE,KAAM;UACpBC,KAAK,EAAEH,MAAM,CAACG;QAAM,GACfH,MAAM,CAACG,KACb,CAAC;MAAA,CACH;IAAC,CACI,CAAC,EACT3C,KAAA,CAACT,IAAI;MAACwC,KAAK,EAAEC,MAAM,CAACY,eAAgB;MAAAV,QAAA,GAClCpC,IAAA,CAACN,MAAM;QAACqD,KAAK,EAAC,QAAQ;QAACC,OAAO,EAAEpB,YAAa;QAACqB,QAAQ,EAAExC;MAAS,CAAE,CAAC,EACpET,IAAA,CAACN,MAAM;QAACqD,KAAK,EAAC,QAAQ;QAACC,OAAO,EAAE1C,QAAS;QAAC4C,KAAK,EAAC;MAAK,CAAE,CAAC;IAAA,CACpD,CAAC;EAAA,CACH,CAAC;AAEX,CAAC;AAED,eAAe/C,gBAAgB;AAE/B,IAAM+B,MAAM,GAAGtC,UAAU,CAACuD,MAAM,CAAC;EAC/BhB,aAAa,EAAE;IACbiB,OAAO,EAAE,EAAE;IACXC,YAAY,EAAE;EAChB,CAAC;EACDP,eAAe,EAAE;IACfQ,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE;EAClB;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}