{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport moment from \"moment\";\nimport { Calendar } from \"react-native-calendars\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport AddButton from \"../../components/AddButton\";\nimport LeaveRequestForm from \"../../components/form\";\nimport Card from \"../../components/card\";\nimport axios from \"axios\";\nimport DateHolidays from \"date-holidays\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MyLeavesScreen = function MyLeavesScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedStartDate = _useState2[0],\n    setSelectedStartDate = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedEndDate = _useState4[0],\n    setSelectedEndDate = _useState4[1];\n  var _useState5 = useState({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedDays = _useState6[0],\n    setSelectedDays = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showModal = _useState8[0],\n    setShowModal = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    showUpdateModal = _useState10[0],\n    setShowUpdateModal = _useState10[1];\n  var _useState11 = useState([]),\n    _useState12 = _slicedToArray(_useState11, 2),\n    leaveData = _useState12[0],\n    setLeaveData = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    selected = _useState14[0],\n    setSelected = _useState14[1];\n  var _useState15 = useState(0),\n    _useState16 = _slicedToArray(_useState15, 2),\n    selectedDatesCount = _useState16[0],\n    setSelectedDatesCount = _useState16[1];\n  var _useState17 = useState(null),\n    _useState18 = _slicedToArray(_useState17, 2),\n    selectedLeaveRequest = _useState18[0],\n    setSelectedLeaveRequest = _useState18[1];\n  var _useState19 = useState([]),\n    _useState20 = _slicedToArray(_useState19, 2),\n    tunisiaHolidays = _useState20[0],\n    setTunisiaHolidays = _useState20[1];\n  var _useState21 = useState(\"all\"),\n    _useState22 = _slicedToArray(_useState21, 2),\n    selectedStatus = _useState22[0],\n    setSelectedStatus = _useState22[1];\n  var _useState23 = useState(moment().subtract(1, \"days\").toDate()),\n    _useState24 = _slicedToArray(_useState23, 2),\n    currentDate = _useState24[0],\n    setCurrentDate = _useState24[1];\n  var months = Array.from({\n    length: 12\n  }, function (_, monthIndex) {\n    var date = new Date(0, monthIndex);\n    return date.toLocaleString(\"en-US\", {\n      month: \"short\"\n    });\n  });\n  var _useState25 = useState(0),\n    _useState26 = _slicedToArray(_useState25, 2),\n    totalLeaveDays = _useState26[0],\n    setTotalLeaveDays = _useState26[1];\n  var _useState27 = useState(0),\n    _useState28 = _slicedToArray(_useState27, 2),\n    totalLeaveDaysAccepted = _useState28[0],\n    setTotalLeaveDaysAccepted = _useState28[1];\n  useEffect(function () {\n    fetchLeaveData();\n    setSelectedStatus(\"all\");\n    fetchTunisiaHolidays();\n    fetchLeaveData();\n  }, []);\n  var fetchTunisiaHolidays = function fetchTunisiaHolidays() {\n    var hd = new DateHolidays(\"TN\");\n    var year = new Date().getFullYear();\n    var holidays = hd.getHolidays(year);\n    var tunisiaHolidays = holidays.map(function (holiday) {\n      return holiday.date;\n    });\n    setTunisiaHolidays(tunisiaHolidays);\n  };\n  var fetchLeaveData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var response = yield axios.get(\"http://10.0.2.2:5000/leaverequest/myleaverequest\");\n        var data = response.data;\n        setLeaveData(data);\n        var _totalLeaveDays = data.reduce(function (totalDays, request) {\n          if (request.status === \"accepted\") {\n            return totalDays + request.numberDays;\n          }\n          return totalDays;\n        }, 0);\n        setTotalLeaveDaysAccepted(_totalLeaveDays);\n        setTotalLeaveDays(totalLeaveDaysAccepted);\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function fetchLeaveData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleDeleteLeaveRequest = function () {\n    var _ref3 = _asyncToGenerator(function* (id) {\n      try {\n        yield axios.delete(\"http://10.0.2.2:5000/leaverequest/delete/\" + id);\n        fetchLeaveData();\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function handleDeleteLeaveRequest(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleSelectLeaveRequest = function handleSelectLeaveRequest(item) {\n    setSelectedLeaveRequest(item);\n    setSelectedStartDate(item.startDate);\n    setSelectedEndDate(item.endDate);\n    setShowUpdateModal(true);\n  };\n  var handleSubmitModifiedLeave = function () {\n    var _ref4 = _asyncToGenerator(function* (formData) {\n      var modifiedLeaveData = _objectSpread({\n        id: selectedLeaveRequest.id,\n        startDate: selectedStartDate,\n        endDate: selectedEndDate\n      }, formData);\n      try {\n        yield axios.put(\"http://10.0.2.2:5000/leaverequest/update/\" + modifiedLeaveData.id, modifiedLeaveData);\n        fetchLeaveData();\n        setShowUpdateModal(false);\n      } catch (error) {\n        console.log(error);\n        Alert.alert(\"Error updating leave request\");\n      }\n    });\n    return function handleSubmitModifiedLeave(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var handleDayPress = function handleDayPress(day) {\n    var dateString = day.dateString;\n    var selectedDayOfWeek = new Date(dateString).getDay();\n    if (selectedDayOfWeek === 0 || selectedDayOfWeek === 6) {\n      return;\n    }\n    var isHoliday = tunisiaHolidays.includes(dateString);\n    if (isHoliday) {\n      return;\n    }\n    var updatedSelectedDays = _objectSpread({}, selectedDays);\n    if (selectedDays[dateString]) {\n      delete updatedSelectedDays[dateString];\n    } else {\n      updatedSelectedDays[dateString] = {\n        selected: true\n      };\n    }\n    var sortedSelectedDates = Object.keys(updatedSelectedDays).sort();\n    var newStartDate = null;\n    var newEndDate = null;\n    if (sortedSelectedDates.length > 0) {\n      newStartDate = sortedSelectedDates[0];\n      newEndDate = sortedSelectedDates[sortedSelectedDates.length - 1];\n    }\n    var daysBetween = getDaysBetween(newStartDate, newEndDate);\n    daysBetween.forEach(function (date) {\n      var dayOfWeek = new Date(date).getDay();\n      if (dayOfWeek !== 0 && dayOfWeek !== 6) {\n        updatedSelectedDays[date] = {\n          selected: true\n        };\n      }\n    });\n    setSelectedStartDate(newStartDate);\n    setSelectedEndDate(newEndDate);\n    setSelectedDays(updatedSelectedDays);\n    setSelectedDatesCount(daysBetween.length);\n  };\n  var getDaysBetween = function getDaysBetween(startDate, endDate) {\n    if (!startDate || !endDate) {\n      return [];\n    }\n    var start = new Date(startDate);\n    var end = new Date(endDate);\n    var daysBetween = [];\n    for (var date = start; date <= end; date.setDate(date.getDate() + 1)) {\n      daysBetween.push(new Date(date).toISOString().slice(0, 10));\n    }\n    return daysBetween;\n  };\n  var isSelected = function isSelected() {\n    if (selectedDays) setSelected(true);\n  };\n  var handleAddLeave = function handleAddLeave() {\n    setShowModal(true);\n  };\n  var clearSelectedDates = function clearSelectedDates() {\n    setSelectedDays({});\n    setSelectedStartDate(null);\n    setSelectedEndDate(null);\n    setSelectedDatesCount(0);\n  };\n  var handleSubmitLeave = function handleSubmitLeave(formData) {\n    var leaveData = _objectSpread({\n      startDate: selectedStartDate,\n      endDate: selectedEndDate\n    }, formData);\n    Alert.alert(\"Leave request submitted successfully\");\n    setShowModal(false);\n  };\n  var handleCloseModal = function handleCloseModal() {\n    setShowModal(false);\n    setShowUpdateModal(false);\n  };\n  var handleStatusFilter = function handleStatusFilter(status) {\n    setSelectedStatus(status);\n  };\n  var filteredLeaveData = selectedStatus === \"all\" ? leaveData : leaveData.filter(function (data) {\n    return data.status === selectedStatus;\n  });\n  React.useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return _jsx(TouchableOpacity, {\n          onPress: handleAddLeave,\n          children: _jsx(Ionicons, {\n            name: \"add-circle-outline\",\n            size: 30,\n            color: \"#5fcbf9\",\n            style: {\n              fontSize: 40,\n              fontWeight: \"100\"\n            }\n          })\n        });\n      }\n    });\n  }, [navigation]);\n  var renderLeaveRequest = function renderLeaveRequest(_ref5) {\n    var item = _ref5.item;\n    return _jsx(Pressable, {\n      onPress: function onPress() {\n        return item.status === \"pending\" ? handleSelectLeaveRequest(item) : null;\n      },\n      children: _jsx(Card, {\n        startDate: item.startDate ? item.startDate.slice(8) : \"N/A\",\n        leaveType: item.leaveType,\n        startMonth: item.startDate ? months[Number(item.startDate.slice(5, -3)) - 1] : \"N/A\",\n        numberDays: item.numberDays,\n        fullName: item.name + \" \" + item.secondName,\n        onDelete: function onDelete() {\n          return handleDeleteLeaveRequest(item.id);\n        },\n        showTrashIcon: item.status === \"pending\"\n      })\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.totalLeaveDaysContainer,\n      children: _jsxs(Text, {\n        style: styles.totalLeaveDaysText,\n        children: [\"Total Leave Days: \", totalLeaveDays]\n      })\n    }), _jsxs(View, {\n      style: styles.filterOptions,\n      children: [_jsx(TouchableOpacity, {\n        style: [styles.filterOption, selectedStatus === \"all\" && styles.selectedFilterOption],\n        onPress: function onPress() {\n          return handleStatusFilter(\"all\");\n        },\n        children: _jsx(Text, {\n          style: styles.filterOptionText,\n          children: \"All\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: [styles.filterOption, selectedStatus === \"pending\" && styles.selectedFilterOption],\n        onPress: function onPress() {\n          return handleStatusFilter(\"pending\");\n        },\n        children: _jsx(Text, {\n          style: styles.filterOptionText,\n          children: \"Pending\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: [styles.filterOption, selectedStatus === \"accepted\" && styles.selectedFilterOption],\n        onPress: function onPress() {\n          return handleStatusFilter(\"accepted\");\n        },\n        children: _jsx(Text, {\n          style: styles.filterOptionText,\n          children: \"Accepted\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: [styles.filterOption, selectedStatus === \"rejected\" && styles.selectedFilterOption],\n        onPress: function onPress() {\n          return handleStatusFilter(\"rejected\");\n        },\n        children: _jsx(Text, {\n          style: styles.filterOptionText,\n          children: \"Rejected\"\n        })\n      })]\n    }), _jsx(FlatList, {\n      data: filteredLeaveData,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      renderItem: renderLeaveRequest\n    }), _jsx(Modal, {\n      visible: showModal || showUpdateModal,\n      animationType: \"slide\",\n      transparent: true,\n      onRequestClose: handleCloseModal,\n      children: _jsx(View, {\n        style: styles.modalContainer,\n        children: _jsxs(ScrollView, {\n          contentContainerStyle: styles.scrollContainer,\n          children: [_jsx(View, {\n            style: styles.formContainer,\n            children: _jsx(LeaveRequestForm, {\n              onSubmit: handleSubmitLeave,\n              onCancel: handleCloseModal,\n              endDateC: selectedEndDate,\n              startDateC: selectedStartDate,\n              selected: selected,\n              numberDays: selectedDatesCount,\n              leaveRequestData: selectedLeaveRequest,\n              showUpdateModal: showUpdateModal\n            })\n          }), _jsxs(View, {\n            style: styles.calendarContainer,\n            children: [_jsx(Calendar, {\n              style: styles.calendar,\n              onDayPress: handleDayPress,\n              markedDates: selectedDays,\n              minDate: currentDate\n            }), _jsx(AddButton, {\n              onPress: clearSelectedDates,\n              children: \"Clear\"\n            })]\n          })]\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  filterOptions: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingHorizontal: 20,\n    paddingTop: 10,\n    marginBottom: 10\n  },\n  filterOption: {\n    padding: 10,\n    borderRadius: 5\n  },\n  selectedFilterOption: {\n    backgroundColor: \"#5fcbf9\",\n    borderRadius: 28\n  },\n  filterOptionText: {\n    color: \"#000000\",\n    fontWeight: \"bold\"\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    backgroundColor: \"#ffffff\"\n  },\n  scrollContainer: {\n    flexGrow: 1\n  },\n  formContainer: {\n    flex: 2,\n    backgroundColor: \"#fff\",\n    padding: 20,\n    borderRadius: 10,\n    marginBottom: 20,\n    alignItems: \"center\"\n  },\n  calendarContainer: {\n    flex: 3\n  },\n  calendar: {\n    marginHorizontal: 30,\n    marginVertical: 25,\n    borderRadius: 10\n  },\n  totalLeaveDaysContainer: {\n    padding: 10,\n    alignItems: \"center\"\n  },\n  totalLeaveDaysText: {\n    fontSize: 16,\n    fontWeight: \"bold\"\n  }\n});\nexport default MyLeavesScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Modal","Alert","StyleSheet","TouchableOpacity","Text","FlatList","ScrollView","Pressable","moment","Calendar","Ionicons","AddButton","LeaveRequestForm","Card","axios","DateHolidays","jsx","_jsx","jsxs","_jsxs","MyLeavesScreen","_ref","navigation","_useState","_useState2","_slicedToArray","selectedStartDate","setSelectedStartDate","_useState3","_useState4","selectedEndDate","setSelectedEndDate","_useState5","_useState6","selectedDays","setSelectedDays","_useState7","_useState8","showModal","setShowModal","_useState9","_useState10","showUpdateModal","setShowUpdateModal","_useState11","_useState12","leaveData","setLeaveData","_useState13","_useState14","selected","setSelected","_useState15","_useState16","selectedDatesCount","setSelectedDatesCount","_useState17","_useState18","selectedLeaveRequest","setSelectedLeaveRequest","_useState19","_useState20","tunisiaHolidays","setTunisiaHolidays","_useState21","_useState22","selectedStatus","setSelectedStatus","_useState23","subtract","toDate","_useState24","currentDate","setCurrentDate","months","Array","from","length","_","monthIndex","date","Date","toLocaleString","month","_useState25","_useState26","totalLeaveDays","setTotalLeaveDays","_useState27","_useState28","totalLeaveDaysAccepted","setTotalLeaveDaysAccepted","fetchLeaveData","fetchTunisiaHolidays","hd","year","getFullYear","holidays","getHolidays","map","holiday","_ref2","_asyncToGenerator","response","get","data","reduce","totalDays","request","status","numberDays","error","console","log","apply","arguments","handleDeleteLeaveRequest","_ref3","id","delete","_x","handleSelectLeaveRequest","item","startDate","endDate","handleSubmitModifiedLeave","_ref4","formData","modifiedLeaveData","_objectSpread","put","alert","_x2","handleDayPress","day","dateString","selectedDayOfWeek","getDay","isHoliday","includes","updatedSelectedDays","sortedSelectedDates","Object","keys","sort","newStartDate","newEndDate","daysBetween","getDaysBetween","forEach","dayOfWeek","start","end","setDate","getDate","push","toISOString","slice","isSelected","handleAddLeave","clearSelectedDates","handleSubmitLeave","handleCloseModal","handleStatusFilter","filteredLeaveData","filter","useLayoutEffect","setOptions","headerRight","onPress","children","name","size","color","style","fontSize","fontWeight","renderLeaveRequest","_ref5","leaveType","startMonth","Number","fullName","secondName","onDelete","showTrashIcon","styles","container","totalLeaveDaysContainer","totalLeaveDaysText","filterOptions","filterOption","selectedFilterOption","filterOptionText","keyExtractor","index","toString","renderItem","visible","animationType","transparent","onRequestClose","modalContainer","contentContainerStyle","scrollContainer","formContainer","onSubmit","onCancel","endDateC","startDateC","leaveRequestData","calendarContainer","calendar","onDayPress","markedDates","minDate","create","flex","flexDirection","justifyContent","paddingHorizontal","paddingTop","marginBottom","padding","borderRadius","backgroundColor","flexGrow","alignItems","marginHorizontal","marginVertical"],"sources":["C:/Users/PC/Documents/interShip/frontEnd/navigation/screens/MyLeavesScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  Modal,\r\n  Alert,\r\n  StyleSheet,\r\n  TouchableOpacity,\r\n  Text,\r\n  FlatList,\r\n  ScrollView,\r\n  Pressable,\r\n} from \"react-native\";\r\nimport moment from \"moment\";\r\nimport { Calendar } from \"react-native-calendars\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport AddButton from \"../../components/AddButton\";\r\nimport LeaveRequestForm from \"../../components/form\";\r\nimport Card from \"../../components/card\";\r\nimport axios from \"axios\";\r\nimport DateHolidays from \"date-holidays\";\r\n\r\nconst MyLeavesScreen = ({ navigation }) => {\r\n  const [selectedStartDate, setSelectedStartDate] = useState(null);\r\n  const [selectedEndDate, setSelectedEndDate] = useState(null);\r\n  const [selectedDays, setSelectedDays] = useState({});\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\r\n  const [leaveData, setLeaveData] = useState([]);\r\n  const [selected, setSelected] = useState(false);\r\n  const [selectedDatesCount, setSelectedDatesCount] = useState(0);\r\n  const [selectedLeaveRequest, setSelectedLeaveRequest] = useState(null);\r\n  const [tunisiaHolidays, setTunisiaHolidays] = useState([]);\r\n  const [selectedStatus, setSelectedStatus] = useState(\"all\");\r\n  const [currentDate, setCurrentDate] = useState(\r\n    moment().subtract(1, \"days\").toDate()\r\n  );\r\n  const months = Array.from({ length: 12 }, (_, monthIndex) => {\r\n    const date = new Date(0, monthIndex);\r\n    return date.toLocaleString(\"en-US\", { month: \"short\" });\r\n  });\r\n\r\n  const [totalLeaveDays, setTotalLeaveDays] = useState(0);\r\n  const [totalLeaveDaysAccepted, setTotalLeaveDaysAccepted] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetchLeaveData();\r\n    setSelectedStatus(\"all\");\r\n    fetchTunisiaHolidays();\r\n    fetchLeaveData();\r\n  }, []);\r\n\r\n  const fetchTunisiaHolidays = () => {\r\n    const hd = new DateHolidays(\"TN\");\r\n    const year = new Date().getFullYear();\r\n    const holidays = hd.getHolidays(year);\r\n    const tunisiaHolidays = holidays.map((holiday) => holiday.date);\r\n    setTunisiaHolidays(tunisiaHolidays);\r\n  };\r\n\r\n  const fetchLeaveData = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        \"http://10.0.2.2:5000/leaverequest/myleaverequest\"\r\n      );\r\n      const data = response.data;\r\n      setLeaveData(data);\r\n\r\n      // Calculate the total leave days of accepted requests\r\n      const totalLeaveDays = data.reduce((totalDays, request) => {\r\n        if (request.status === \"accepted\") {\r\n          return totalDays + request.numberDays;\r\n        }\r\n        return totalDays;\r\n      }, 0);\r\n\r\n      setTotalLeaveDaysAccepted(totalLeaveDays);\r\n\r\n      setTotalLeaveDays(totalLeaveDaysAccepted);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteLeaveRequest = async (id) => {\r\n    try {\r\n      await axios.delete(`http://10.0.2.2:5000/leaverequest/delete/${id}`);\r\n      fetchLeaveData();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleSelectLeaveRequest = (item) => {\r\n    setSelectedLeaveRequest(item);\r\n    setSelectedStartDate(item.startDate);\r\n    setSelectedEndDate(item.endDate);\r\n    setShowUpdateModal(true);\r\n  };\r\n\r\n  const handleSubmitModifiedLeave = async (formData) => {\r\n    const modifiedLeaveData = {\r\n      id: selectedLeaveRequest.id,\r\n      startDate: selectedStartDate,\r\n      endDate: selectedEndDate,\r\n      ...formData,\r\n    };\r\n\r\n    try {\r\n      await axios.put(\r\n        `http://10.0.2.2:5000/leaverequest/update/${modifiedLeaveData.id}`,\r\n        modifiedLeaveData\r\n      );\r\n      fetchLeaveData();\r\n      setShowUpdateModal(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      Alert.alert(\"Error updating leave request\");\r\n    }\r\n  };\r\n\r\n  const handleDayPress = (day) => {\r\n    const { dateString } = day;\r\n\r\n    const selectedDayOfWeek = new Date(dateString).getDay();\r\n    if (selectedDayOfWeek === 0 || selectedDayOfWeek === 6) {\r\n      return;\r\n    }\r\n\r\n    const isHoliday = tunisiaHolidays.includes(dateString);\r\n    if (isHoliday) {\r\n      return;\r\n    }\r\n\r\n    const updatedSelectedDays = { ...selectedDays };\r\n\r\n    if (selectedDays[dateString]) {\r\n      delete updatedSelectedDays[dateString];\r\n    } else {\r\n      updatedSelectedDays[dateString] = { selected: true };\r\n    }\r\n\r\n    const sortedSelectedDates = Object.keys(updatedSelectedDays).sort();\r\n\r\n    let newStartDate = null;\r\n    let newEndDate = null;\r\n\r\n    if (sortedSelectedDates.length > 0) {\r\n      newStartDate = sortedSelectedDates[0];\r\n      newEndDate = sortedSelectedDates[sortedSelectedDates.length - 1];\r\n    }\r\n\r\n    const daysBetween = getDaysBetween(newStartDate, newEndDate);\r\n\r\n    daysBetween.forEach((date) => {\r\n      const dayOfWeek = new Date(date).getDay();\r\n      if (dayOfWeek !== 0 && dayOfWeek !== 6) {\r\n        updatedSelectedDays[date] = { selected: true };\r\n      }\r\n    });\r\n\r\n    setSelectedStartDate(newStartDate);\r\n    setSelectedEndDate(newEndDate);\r\n    setSelectedDays(updatedSelectedDays);\r\n    setSelectedDatesCount(daysBetween.length);\r\n  };\r\n\r\n  const getDaysBetween = (startDate, endDate) => {\r\n    if (!startDate || !endDate) {\r\n      return [];\r\n    }\r\n\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    const daysBetween = [];\r\n\r\n    for (let date = start; date <= end; date.setDate(date.getDate() + 1)) {\r\n      daysBetween.push(new Date(date).toISOString().slice(0, 10));\r\n    }\r\n\r\n    return daysBetween;\r\n  };\r\n\r\n  const isSelected = () => {\r\n    if (selectedDays) setSelected(true);\r\n  };\r\n\r\n  const handleAddLeave = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const clearSelectedDates = () => {\r\n    setSelectedDays({});\r\n    setSelectedStartDate(null);\r\n    setSelectedEndDate(null);\r\n    setSelectedDatesCount(0);\r\n  };\r\n\r\n  const handleSubmitLeave = (formData) => {\r\n    const leaveData = {\r\n      startDate: selectedStartDate,\r\n      endDate: selectedEndDate,\r\n      ...formData,\r\n    };\r\n\r\n    Alert.alert(\"Leave request submitted successfully\");\r\n\r\n    setShowModal(false);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n    setShowUpdateModal(false);\r\n  };\r\n\r\n  const handleStatusFilter = (status) => {\r\n    setSelectedStatus(status);\r\n  };\r\n\r\n  const filteredLeaveData =\r\n    selectedStatus === \"all\"\r\n      ? leaveData\r\n      : leaveData.filter((data) => data.status === selectedStatus);\r\n\r\n  React.useLayoutEffect(() => {\r\n    navigation.setOptions({\r\n      headerRight: () => (\r\n        <TouchableOpacity onPress={handleAddLeave}>\r\n          <Ionicons\r\n            name=\"add-circle-outline\"\r\n            size={30}\r\n            color=\"#5fcbf9\"\r\n            style={{ fontSize: 40, fontWeight: \"100\" }}\r\n          />\r\n        </TouchableOpacity>\r\n      ),\r\n    });\r\n  }, [navigation]);\r\n\r\n  const renderLeaveRequest = ({ item }) => (\r\n    <Pressable\r\n      onPress={() =>\r\n        item.status === \"pending\" ? handleSelectLeaveRequest(item) : null\r\n      }\r\n    >\r\n      <Card\r\n        startDate={item.startDate ? item.startDate.slice(8) : \"N/A\"}\r\n        leaveType={item.leaveType}\r\n        startMonth={\r\n          item.startDate\r\n            ? months[Number(item.startDate.slice(5, -3)) - 1]\r\n            : \"N/A\"\r\n        }\r\n        numberDays={item.numberDays}\r\n        fullName={`${item.name} ${item.secondName}`}\r\n        onDelete={() => handleDeleteLeaveRequest(item.id)}\r\n        showTrashIcon={item.status === \"pending\"}\r\n      />\r\n    </Pressable>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.totalLeaveDaysContainer}>\r\n        <Text style={styles.totalLeaveDaysText}>\r\n          Total Leave Days: {totalLeaveDays}\r\n        </Text>\r\n      </View>\r\n\r\n      <View style={styles.filterOptions}>\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.filterOption,\r\n            selectedStatus === \"all\" && styles.selectedFilterOption,\r\n          ]}\r\n          onPress={() => handleStatusFilter(\"all\")}\r\n        >\r\n          <Text style={styles.filterOptionText}>All</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.filterOption,\r\n            selectedStatus === \"pending\" && styles.selectedFilterOption,\r\n          ]}\r\n          onPress={() => handleStatusFilter(\"pending\")}\r\n        >\r\n          <Text style={styles.filterOptionText}>Pending</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.filterOption,\r\n            selectedStatus === \"accepted\" && styles.selectedFilterOption,\r\n          ]}\r\n          onPress={() => handleStatusFilter(\"accepted\")}\r\n        >\r\n          <Text style={styles.filterOptionText}>Accepted</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.filterOption,\r\n            selectedStatus === \"rejected\" && styles.selectedFilterOption,\r\n          ]}\r\n          onPress={() => handleStatusFilter(\"rejected\")}\r\n        >\r\n          <Text style={styles.filterOptionText}>Rejected</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      <FlatList\r\n        data={filteredLeaveData}\r\n        keyExtractor={(item, index) => index.toString()}\r\n        renderItem={renderLeaveRequest}\r\n      />\r\n\r\n      <Modal\r\n        visible={showModal || showUpdateModal}\r\n        animationType=\"slide\"\r\n        transparent={true}\r\n        onRequestClose={handleCloseModal}\r\n      >\r\n        <View style={styles.modalContainer}>\r\n          <ScrollView contentContainerStyle={styles.scrollContainer}>\r\n            <View style={styles.formContainer}>\r\n              <LeaveRequestForm\r\n                onSubmit={handleSubmitLeave}\r\n                onCancel={handleCloseModal}\r\n                endDateC={selectedEndDate}\r\n                startDateC={selectedStartDate}\r\n                selected={selected}\r\n                numberDays={selectedDatesCount}\r\n                leaveRequestData={selectedLeaveRequest}\r\n                showUpdateModal={showUpdateModal}\r\n              />\r\n            </View>\r\n\r\n            <View style={styles.calendarContainer}>\r\n              <Calendar\r\n                style={styles.calendar}\r\n                onDayPress={handleDayPress}\r\n                markedDates={selectedDays}\r\n                minDate={currentDate}\r\n              />\r\n\r\n              <AddButton onPress={clearSelectedDates}>Clear</AddButton>\r\n            </View>\r\n          </ScrollView>\r\n        </View>\r\n      </Modal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  filterOptions: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    paddingHorizontal: 20,\r\n    paddingTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  filterOption: {\r\n    padding: 10,\r\n    borderRadius: 5,\r\n  },\r\n  selectedFilterOption: {\r\n    backgroundColor: \"#5fcbf9\",\r\n    borderRadius: 28,\r\n  },\r\n  filterOptionText: {\r\n    color: \"#000000\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  modalContainer: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"#ffffff\",\r\n  },\r\n  scrollContainer: {\r\n    flexGrow: 1,\r\n  },\r\n  formContainer: {\r\n    flex: 2,\r\n    backgroundColor: \"#fff\",\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    marginBottom: 20,\r\n    alignItems: \"center\",\r\n  },\r\n  calendarContainer: {\r\n    flex: 3,\r\n  },\r\n  calendar: {\r\n    marginHorizontal: 30,\r\n    marginVertical: 25,\r\n    borderRadius: 10,\r\n  },\r\n  totalLeaveDaysContainer: {\r\n    padding: 10,\r\n    alignItems: \"center\",\r\n  },\r\n  totalLeaveDaysText: {\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n  },\r\n});\r\n\r\nexport default MyLeavesScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}