{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport axios from \"axios\";\nimport AddButton from \"./AddButton\";\nimport { Picker } from \"@react-native-picker/picker\";\nimport CancelButton from \"./CancelButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LeaveRequestForm = function LeaveRequestForm(_ref) {\n  var onSubmit = _ref.onSubmit,\n    onCancel = _ref.onCancel,\n    endDateC = _ref.endDateC,\n    startDateC = _ref.startDateC,\n    selected = _ref.selected,\n    numberDays = _ref.numberDays,\n    leaveRequestData = _ref.leaveRequestData,\n    showUpdateModal = _ref.showUpdateModal;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    leaveType = _useState2[0],\n    setLeaveType = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    leaveTypeOptions = _useState4[0],\n    setLeaveTypeOptions = _useState4[1];\n  useEffect(function () {\n    fetchLeaveTypes();\n    if (showUpdateModal && leaveRequestData) {\n      setLeaveType(leaveRequestData.leaveType);\n    }\n  }, []);\n  var fetchLeaveTypes = function fetchLeaveTypes() {\n    axios.get(\"http://10.0.2.2:5000/leavetype\").then(function (response) {\n      setLeaveTypeOptions(response.data);\n      console.log(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  var handleSubmit = function handleSubmit() {\n    var formData = {\n      leaveType: leaveType\n    };\n    if (showUpdateModal && leaveRequestData) {\n      handleSubmitModifiedLeave(formData);\n    } else {\n      handleSubmitNewLeave(formData);\n    }\n  };\n  var handleSubmitNewLeave = function handleSubmitNewLeave() {\n    axios.post(\"http://10.0.2.2:5000/leaverequest/add\", {\n      startDate: startDateC,\n      endDate: endDateC,\n      numberDays: numberDays,\n      leaveType: leaveType\n    }).then(function (response) {\n      Alert.alert(\"Leave request submitted successfully\");\n      onSubmit();\n    }).catch(function (error) {\n      console.log(error);\n      Alert.alert(\"Error submitting leave request\");\n    });\n  };\n  var handleSubmitModifiedLeave = function handleSubmitModifiedLeave() {\n    var formData = {\n      startDate: startDateC,\n      endDate: endDateC,\n      numberDays: numberDays,\n      leaveType: leaveType\n    };\n    axios.put(\"http://10.0.2.2:5000/leaverequest/updateAll/\" + leaveRequestData.id, formData).then(function (response) {\n      Alert.alert(\"Leave request updated successfully\");\n      onSubmit();\n    }).catch(function (error) {\n      console.log(error);\n      Alert.alert(\"Error updating leave request\");\n    });\n  };\n  return _jsxs(View, {\n    style: styles.formContainer,\n    children: [_jsx(Text, {\n      style: styles.label,\n      children: \"Leave Type:\"\n    }), _jsx(View, {\n      style: styles.pickerContainer,\n      children: _jsxs(Picker, {\n        style: styles.picker,\n        selectedValue: leaveType,\n        onValueChange: function onValueChange(itemValue, itemIndex) {\n          return setLeaveType(itemValue);\n        },\n        children: [_jsx(Picker.Item, {\n          label: \"\",\n          value: \"\"\n        }), leaveTypeOptions.map(function (option) {\n          return _jsx(Picker.Item, {\n            label: option.value,\n            value: option.value\n          }, option.id);\n        })]\n      })\n    }), _jsxs(View, {\n      style: styles.buttonContainer,\n      children: [_jsx(AddButton, {\n        onPress: handleSubmit,\n        disabled: selected,\n        children: showUpdateModal && leaveRequestData ? \"Update\" : \"Submit\"\n      }), _jsx(CancelButton, {\n        onPress: onCancel,\n        children: \"Cancel\"\n      })]\n    })]\n  });\n};\nexport default LeaveRequestForm;\nvar styles = StyleSheet.create({\n  formContainer: {\n    padding: 20,\n    borderRadius: 10\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    marginBottom: 8\n  },\n  buttonContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    marginTop: 20\n  },\n  pickerContainer: {\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: 5,\n    marginBottom: 10,\n    borderRadius: 15,\n    width: 350\n  },\n  picker: {\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","Alert","StyleSheet","axios","AddButton","Picker","CancelButton","jsx","_jsx","jsxs","_jsxs","LeaveRequestForm","_ref","onSubmit","onCancel","endDateC","startDateC","selected","numberDays","leaveRequestData","showUpdateModal","_useState","_useState2","_slicedToArray","leaveType","setLeaveType","_useState3","_useState4","leaveTypeOptions","setLeaveTypeOptions","fetchLeaveTypes","get","then","response","data","console","log","catch","error","handleSubmit","formData","handleSubmitModifiedLeave","handleSubmitNewLeave","post","startDate","endDate","alert","put","id","style","styles","formContainer","children","label","pickerContainer","picker","selectedValue","onValueChange","itemValue","itemIndex","Item","value","map","option","buttonContainer","onPress","disabled","create","padding","borderRadius","fontSize","fontWeight","marginBottom","flexDirection","justifyContent","marginTop","backgroundColor","width","textAlign"],"sources":["C:/Users/PC/Documents/interShip/frontEnd/components/form.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { View, Text, Alert, StyleSheet } from \"react-native\";\r\nimport axios from \"axios\";\r\nimport AddButton from \"./AddButton\";\r\nimport { Picker } from \"@react-native-picker/picker\";\r\nimport CancelButton from \"./CancelButton\";\r\n\r\nconst LeaveRequestForm = ({\r\n  onSubmit,\r\n  onCancel,\r\n  endDateC,\r\n  startDateC,\r\n  selected,\r\n  numberDays,\r\n  leaveRequestData,\r\n  showUpdateModal,\r\n}) => {\r\n  const [leaveType, setLeaveType] = useState(\"\");\r\n  const [leaveTypeOptions, setLeaveTypeOptions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchLeaveTypes();\r\n\r\n    if (showUpdateModal && leaveRequestData) {\r\n      setLeaveType(leaveRequestData.leaveType);\r\n    }\r\n  }, []);\r\n\r\n  const fetchLeaveTypes = () => {\r\n    axios\r\n      .get(\"http://10.0.2.2:5000/leavetype\")\r\n      .then((response) => {\r\n        setLeaveTypeOptions(response.data);\r\n        console.log(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    const formData = {\r\n      leaveType,\r\n    };\r\n\r\n    if (showUpdateModal && leaveRequestData) {\r\n      handleSubmitModifiedLeave(formData);\r\n    } else {\r\n      handleSubmitNewLeave(formData);\r\n    }\r\n  };\r\n\r\n  const handleSubmitNewLeave = () => {\r\n    axios\r\n      .post(\"http://10.0.2.2:5000/leaverequest/add\", {\r\n        startDate: startDateC,\r\n        endDate: endDateC,\r\n        numberDays,\r\n        leaveType,\r\n      })\r\n      .then((response) => {\r\n        Alert.alert(\"Leave request submitted successfully\");\r\n        onSubmit();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        Alert.alert(\"Error submitting leave request\");\r\n      });\r\n  };\r\n\r\n  const handleSubmitModifiedLeave = () => {\r\n    const formData = {\r\n      startDate: startDateC,\r\n      endDate: endDateC,\r\n      numberDays,\r\n      leaveType,\r\n      // Include other fields as needed (e.g., name, secondName, status, etc.)\r\n    };\r\n\r\n    axios\r\n      .put(\r\n        `http://10.0.2.2:5000/leaverequest/updateAll/${leaveRequestData.id}`,\r\n        formData\r\n      )\r\n      .then((response) => {\r\n        Alert.alert(\"Leave request updated successfully\");\r\n        onSubmit();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        Alert.alert(\"Error updating leave request\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.formContainer}>\r\n      <Text style={styles.label}>Leave Type:</Text>\r\n      <View style={styles.pickerContainer}>\r\n        <Picker\r\n          style={styles.picker}\r\n          selectedValue={leaveType}\r\n          onValueChange={(itemValue, itemIndex) => setLeaveType(itemValue)}\r\n        >\r\n          <Picker.Item label=\"\" value=\"\" />\r\n          {leaveTypeOptions.map((option) => (\r\n            <Picker.Item\r\n              label={option.value}\r\n              value={option.value}\r\n              key={option.id}\r\n            />\r\n          ))}\r\n        </Picker>\r\n      </View>\r\n\r\n      <View style={styles.buttonContainer}>\r\n        <AddButton onPress={handleSubmit} disabled={selected}>\r\n          {showUpdateModal && leaveRequestData ? \"Update\" : \"Submit\"}\r\n        </AddButton>\r\n        <CancelButton onPress={onCancel}>Cancel</CancelButton>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default LeaveRequestForm;\r\n\r\nconst styles = StyleSheet.create({\r\n  formContainer: {\r\n    padding: 20,\r\n    borderRadius: 10,\r\n  },\r\n  label: {\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n    marginBottom: 8,\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    marginTop: 20,\r\n  },\r\n  pickerContainer: {\r\n    backgroundColor: \"#f0f0f0\",\r\n    borderRadius: 5,\r\n    marginBottom: 10,\r\n    borderRadius: 15,\r\n    width: 350,\r\n  },\r\n  picker: {\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}